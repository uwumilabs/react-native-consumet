#!/bin/sh
set -e
yarn prepare

yarn test zoro.test.ts
yarn lint-staged
echo "🛠 Running TypeScript check..."
yarn typecheck
echo "✅ TypeScript check completed"

echo "📦 Building dist folder..."
yarn build:clean
if [ -d "dist" ]; then
  echo "✅ Dist folder exists, adding to git..."
  git add dist/
  echo "✅ Dist folder added to commit"
else
  echo "❌ Dist folder not found after build!"
  exit 1
fi